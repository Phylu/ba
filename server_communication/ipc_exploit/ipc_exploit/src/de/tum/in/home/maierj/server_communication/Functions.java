package de.tum.in.home.maierj.server_communication;

import java.io.UnsupportedEncodingException;

import android.content.Context;
import android.content.Intent;
import android.net.Uri;

public class Functions {
	
	protected static String ACTIVITY = "Activity";
	protected static String SERVICE = "Service";
	
    protected static void callBrowser(Context context, String type) {
    	String model;
		try {
			// Get the model of the device
			model = java.net.URLEncoder.encode(android.os.Build.MODEL, "utf-8");
			
			// Prepare the url of the server
			String url = String.format("http://home.in.tum.de/~maierj/ba/server_communication/?data=%s", model);
	    	Uri u = Uri.parse(url);
	    	
	    	// Create a view intent, that will be received by a browser
	    	Intent i = new Intent(Intent.ACTION_VIEW, u);
	    	if (type.equals(SERVICE)) {
	    		// If the request comes from a service, this flag is needed to start an activity
	    		i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
	    	}
	    	context.startActivity(i);
		} catch (UnsupportedEncodingException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
    }

}
